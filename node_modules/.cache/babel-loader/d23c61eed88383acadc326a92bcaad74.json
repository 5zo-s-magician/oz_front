{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _bindKey = require('lodash/bindKey');\n\nvar _bindKey2 = _interopRequireDefault(_bindKey);\n\nvar _clone = require('lodash/clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _debounce = require('lodash/debounce');\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _isEmpty = require('lodash/isEmpty');\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _superagent = require('superagent');\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _status = require('./constants/status');\n\nvar _status2 = _interopRequireDefault(_status);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar debug = require('debug')('react-file-uploader:UploadManager');\n\nvar UploadManager = function (_Component) {\n  _inherits(UploadManager, _Component);\n\n  function UploadManager(props) {\n    _classCallCheck(this, UploadManager);\n\n    var _this = _possibleConstructorReturn(this, (UploadManager.__proto__ || Object.getPrototypeOf(UploadManager)).call(this, props));\n\n    _this.requests = {};\n    _this.abort = _this.abort.bind(_this);\n    _this.upload = _this.upload.bind(_this);\n    _this.onProgress = (0, _debounce2.default)(_this.onProgress.bind(_this), props.progressDebounce);\n    return _this;\n  }\n\n  _createClass(UploadManager, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // eslint-disable-next-line react/prop-types\n      if (this.props.uploadHeader) {\n        // eslint-disable-next-line no-console\n        console.warn('`props.uploadHeader` is DEPRECATED. Please use `props.uploadHeaderHandler` instead.');\n      } // eslint-disable-next-line react/prop-types\n\n\n      if (this.props.formDataParser) {\n        // eslint-disable-next-line no-console\n        console.warn('`props.formDataParser` is DEPRECATED. Please use `props.uploadDataHandler` instead.');\n      }\n\n      (0, _invariant2.default)(!!this.props.uploadUrl, 'Upload end point must be provided to upload files');\n      (0, _invariant2.default)(!!this.props.onUploadEnd, 'onUploadEnd function must be provided');\n    }\n  }, {\n    key: 'onProgress',\n    value: function onProgress(fileId, progress) {\n      var onUploadProgress = this.props.onUploadProgress,\n          request = this.requests[fileId];\n\n      if (request.xhr && request.xhr.readyState !== 4 && !request.aborted) {\n        if (typeof onUploadProgress === 'function') {\n          onUploadProgress(fileId, {\n            progress: progress,\n            status: _status2.default.UPLOADING\n          });\n        }\n      }\n    }\n  }, {\n    key: 'abort',\n    value: function abort() {\n      var file = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var onUploadAbort = this.props.onUploadAbort,\n          request = this.requests[file.id];\n\n      if (!request) {\n        debug('request instance not found.');\n        return;\n      }\n\n      request.abort();\n\n      if (typeof onUploadAbort === 'function') {\n        onUploadAbort(file.id, {\n          status: _status2.default.ABORTED\n        });\n      }\n    }\n  }, {\n    key: 'upload',\n    value: function upload(url, file) {\n      var _this2 = this;\n\n      var _props = this.props,\n          _props$reqConfigs = _props.reqConfigs,\n          _props$reqConfigs$acc = _props$reqConfigs.accept,\n          accept = _props$reqConfigs$acc === undefined ? 'application/json' : _props$reqConfigs$acc,\n          _props$reqConfigs$met = _props$reqConfigs.method,\n          method = _props$reqConfigs$met === undefined ? 'post' : _props$reqConfigs$met,\n          timeout = _props$reqConfigs.timeout,\n          _props$reqConfigs$wit = _props$reqConfigs.withCredentials,\n          withCredentials = _props$reqConfigs$wit === undefined ? false : _props$reqConfigs$wit,\n          onUploadStart = _props.onUploadStart,\n          onUploadEnd = _props.onUploadEnd,\n          uploadDataHandler = _props.uploadDataHandler,\n          uploadErrorHandler = _props.uploadErrorHandler,\n          uploadHeaderHandler = _props.uploadHeaderHandler;\n\n      if (typeof onUploadStart === 'function') {\n        onUploadStart(file.id, {\n          status: _status2.default.UPLOADING\n        });\n      }\n\n      var header = uploadHeaderHandler(file),\n          data = uploadDataHandler(file);\n\n      var request = _superagent2.default[method.toLowerCase()](url).accept(accept);\n\n      if (!(0, _isEmpty2.default)(header)) {\n        request.set(header);\n      }\n\n      if (timeout) {\n        request.timeout(timeout);\n      }\n\n      if (withCredentials) {\n        request.withCredentials();\n      }\n\n      this.requests[file.id] = request;\n      debug('start uploading file#' + file.id + ' to ' + url, file);\n      request.send(data).on('progress', function (_ref) {\n        var percent = _ref.percent;\n        return _this2.onProgress(file.id, percent);\n      }).end(function (err, res) {\n        var _uploadErrorHandler = uploadErrorHandler(err, res),\n            error = _uploadErrorHandler.error,\n            result = _uploadErrorHandler.result;\n\n        if (error) {\n          debug('failed to upload file', error);\n        } else {\n          debug('succeeded to upload file', result);\n        }\n\n        if (typeof onUploadEnd === 'function') {\n          onUploadEnd(file.id, {\n            progress: error && 0 || 100,\n            error: error,\n            result: error && undefined || result,\n            status: error && _status2.default.FAILED || _status2.default.UPLOADED\n          });\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props2 = this.props,\n          component = _props2.component,\n          customClass = _props2.customClass,\n          style = _props2.style,\n          children = _props2.children,\n          uploadUrl = _props2.uploadUrl;\n      return _react2.default.createElement(component, {\n        className: (0, _classnames2.default)(customClass),\n        style: style\n      }, _react2.default.Children.map(children, function (child) {\n        return (0, _react.cloneElement)(child, Object.assign({\n          abort: (0, _bindKey2.default)(_this3, 'abort', child.props.file),\n          upload: (0, _bindKey2.default)(_this3, 'upload', uploadUrl, child.props.file)\n        }, child.props));\n      }));\n    }\n  }]);\n\n  return UploadManager;\n}(_react.Component);\n\nUploadManager.propTypes = {\n  children: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.arrayOf(_propTypes2.default.element)]),\n  component: _propTypes2.default.string.isRequired,\n  customClass: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]),\n  onUploadAbort: _propTypes2.default.func,\n  onUploadStart: _propTypes2.default.func,\n  onUploadProgress: _propTypes2.default.func,\n  onUploadEnd: _propTypes2.default.func.isRequired,\n  progressDebounce: _propTypes2.default.number,\n  reqConfigs: _propTypes2.default.shape({\n    accept: _propTypes2.default.string,\n    method: _propTypes2.default.string,\n    timeout: _propTypes2.default.shape({\n      response: _propTypes2.default.number,\n      deadline: _propTypes2.default.number\n    }),\n    withCredentials: _propTypes2.default.bool\n  }),\n  style: _propTypes2.default.object,\n  uploadDataHandler: _propTypes2.default.func,\n  uploadErrorHandler: _propTypes2.default.func,\n  uploadHeaderHandler: _propTypes2.default.func,\n  uploadUrl: _propTypes2.default.string.isRequired\n};\nUploadManager.defaultProps = {\n  component: 'ul',\n  progressDebounce: 150,\n  reqConfigs: {},\n  uploadDataHandler: function uploadDataHandler(file) {\n    var formData = new FormData();\n    formData.append('file', file.data);\n    return formData;\n  },\n  uploadErrorHandler: function uploadErrorHandler(err) {\n    var res = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var body = res.body ? (0, _clone2.default)(res.body) : {};\n    var error = null;\n\n    if (err) {\n      error = err.message;\n    } else if (body.errors) {\n      error = body.errors;\n    }\n\n    delete body.errors;\n    return {\n      error: error,\n      result: body\n    };\n  },\n  uploadHeaderHandler: function uploadHeaderHandler() {\n    return {};\n  }\n};\nexports.default = UploadManager;","map":{"version":3,"sources":["C:/Users/User/Desktop/21-2_school/capstone_project/project/frontend/oz_front/node_modules/react-file-uploader/lib/UploadManager.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_invariant","_invariant2","_classnames","_classnames2","_bindKey","_bindKey2","_clone","_clone2","_debounce","_debounce2","_isEmpty","_isEmpty2","_superagent","_superagent2","_status","_status2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","debug","UploadManager","_Component","_this","getPrototypeOf","requests","abort","bind","upload","onProgress","progressDebounce","componentDidMount","uploadHeader","console","warn","formDataParser","uploadUrl","onUploadEnd","fileId","progress","onUploadProgress","request","xhr","readyState","aborted","status","UPLOADING","file","arguments","undefined","onUploadAbort","id","ABORTED","url","_this2","_props","_props$reqConfigs","reqConfigs","_props$reqConfigs$acc","accept","_props$reqConfigs$met","method","timeout","_props$reqConfigs$wit","withCredentials","onUploadStart","uploadDataHandler","uploadErrorHandler","uploadHeaderHandler","header","data","toLowerCase","set","send","on","_ref","percent","end","err","res","_uploadErrorHandler","error","result","FAILED","UPLOADED","render","_this3","_props2","component","customClass","style","children","createElement","className","Children","map","child","cloneElement","assign","Component","propTypes","oneOfType","element","arrayOf","string","isRequired","func","number","shape","response","deadline","bool","object","defaultProps","formData","FormData","append","body","message","errors"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,UAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4Bb,MAAAA,MAAM,CAACC,cAAP,CAAsBK,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBX,gBAAgB,CAACU,WAAW,CAACG,SAAb,EAAwBF,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBZ,gBAAgB,CAACU,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,UAAU,GAAGH,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAII,WAAW,GAAGF,sBAAsB,CAACC,UAAD,CAAxC;;AAEA,IAAIE,UAAU,GAAGL,OAAO,CAAC,WAAD,CAAxB;;AAEA,IAAIM,WAAW,GAAGJ,sBAAsB,CAACG,UAAD,CAAxC;;AAEA,IAAIE,WAAW,GAAGP,OAAO,CAAC,YAAD,CAAzB;;AAEA,IAAIQ,YAAY,GAAGN,sBAAsB,CAACK,WAAD,CAAzC;;AAEA,IAAIE,QAAQ,GAAGT,OAAO,CAAC,gBAAD,CAAtB;;AAEA,IAAIU,SAAS,GAAGR,sBAAsB,CAACO,QAAD,CAAtC;;AAEA,IAAIE,MAAM,GAAGX,OAAO,CAAC,cAAD,CAApB;;AAEA,IAAIY,OAAO,GAAGV,sBAAsB,CAACS,MAAD,CAApC;;AAEA,IAAIE,SAAS,GAAGb,OAAO,CAAC,iBAAD,CAAvB;;AAEA,IAAIc,UAAU,GAAGZ,sBAAsB,CAACW,SAAD,CAAvC;;AAEA,IAAIE,QAAQ,GAAGf,OAAO,CAAC,gBAAD,CAAtB;;AAEA,IAAIgB,SAAS,GAAGd,sBAAsB,CAACa,QAAD,CAAtC;;AAEA,IAAIE,WAAW,GAAGjB,OAAO,CAAC,YAAD,CAAzB;;AAEA,IAAIkB,YAAY,GAAGhB,sBAAsB,CAACe,WAAD,CAAzC;;AAEA,IAAIE,OAAO,GAAGnB,OAAO,CAAC,oBAAD,CAArB;;AAEA,IAAIoB,QAAQ,GAAGlB,sBAAsB,CAACiB,OAAD,CAArC;;AAEA,SAASjB,sBAAT,CAAgCmB,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,eAAT,CAAyBC,QAAzB,EAAmC9B,WAAnC,EAAgD;AAAE,MAAI,EAAE8B,QAAQ,YAAY9B,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAI+B,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;AAAE,MAAI,CAACD,IAAL,EAAW;AAAE,UAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOD,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0ED,IAAjF;AAAwF;;AAEhP,SAASG,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIP,SAAJ,CAAc,6DAA6D,OAAOO,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAAClC,SAAT,GAAqBlB,MAAM,CAACsD,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACnC,SAAvC,EAAkD;AAAEqC,IAAAA,WAAW,EAAE;AAAEpD,MAAAA,KAAK,EAAEiD,QAAT;AAAmBzC,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAIyC,UAAJ,EAAgBrD,MAAM,CAACwD,cAAP,GAAwBxD,MAAM,CAACwD,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACK,SAAT,GAAqBJ,UAA3F;AAAwG;;AAE9e,IAAIK,KAAK,GAAGtC,OAAO,CAAC,OAAD,CAAP,CAAiB,mCAAjB,CAAZ;;AAEA,IAAIuC,aAAa,GAAG,UAAUC,UAAV,EAAsB;AACxCT,EAAAA,SAAS,CAACQ,aAAD,EAAgBC,UAAhB,CAAT;;AAEA,WAASD,aAAT,CAAuBpD,KAAvB,EAA8B;AAC5BqC,IAAAA,eAAe,CAAC,IAAD,EAAOe,aAAP,CAAf;;AAEA,QAAIE,KAAK,GAAGd,0BAA0B,CAAC,IAAD,EAAO,CAACY,aAAa,CAACF,SAAd,IAA2BzD,MAAM,CAAC8D,cAAP,CAAsBH,aAAtB,CAA5B,EAAkEV,IAAlE,CAAuE,IAAvE,EAA6E1C,KAA7E,CAAP,CAAtC;;AAEAsD,IAAAA,KAAK,CAACE,QAAN,GAAiB,EAAjB;AACAF,IAAAA,KAAK,CAACG,KAAN,GAAcH,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiBJ,KAAjB,CAAd;AACAA,IAAAA,KAAK,CAACK,MAAN,GAAeL,KAAK,CAACK,MAAN,CAAaD,IAAb,CAAkBJ,KAAlB,CAAf;AACAA,IAAAA,KAAK,CAACM,UAAN,GAAmB,CAAC,GAAGjC,UAAU,CAACS,OAAf,EAAwBkB,KAAK,CAACM,UAAN,CAAiBF,IAAjB,CAAsBJ,KAAtB,CAAxB,EAAsDtD,KAAK,CAAC6D,gBAA5D,CAAnB;AACA,WAAOP,KAAP;AACD;;AAEDzD,EAAAA,YAAY,CAACuD,aAAD,EAAgB,CAAC;AAC3B7C,IAAAA,GAAG,EAAE,mBADsB;AAE3BX,IAAAA,KAAK,EAAE,SAASkE,iBAAT,GAA6B;AAClC;AACA,UAAI,KAAK9D,KAAL,CAAW+D,YAAf,EAA6B;AAC3B;AACAC,QAAAA,OAAO,CAACC,IAAR,CAAa,qFAAb;AACD,OALiC,CAOlC;;;AACA,UAAI,KAAKjE,KAAL,CAAWkE,cAAf,EAA+B;AAC7B;AACAF,QAAAA,OAAO,CAACC,IAAR,CAAa,qFAAb;AACD;;AAED,OAAC,GAAG9C,WAAW,CAACiB,OAAhB,EAAyB,CAAC,CAAC,KAAKpC,KAAL,CAAWmE,SAAtC,EAAiD,mDAAjD;AAEA,OAAC,GAAGhD,WAAW,CAACiB,OAAhB,EAAyB,CAAC,CAAC,KAAKpC,KAAL,CAAWoE,WAAtC,EAAmD,uCAAnD;AACD;AAlB0B,GAAD,EAmBzB;AACD7D,IAAAA,GAAG,EAAE,YADJ;AAEDX,IAAAA,KAAK,EAAE,SAASgE,UAAT,CAAoBS,MAApB,EAA4BC,QAA5B,EAAsC;AAC3C,UAAIC,gBAAgB,GAAG,KAAKvE,KAAL,CAAWuE,gBAAlC;AAAA,UACIC,OAAO,GAAG,KAAKhB,QAAL,CAAca,MAAd,CADd;;AAIA,UAAIG,OAAO,CAACC,GAAR,IAAeD,OAAO,CAACC,GAAR,CAAYC,UAAZ,KAA2B,CAA1C,IAA+C,CAACF,OAAO,CAACG,OAA5D,EAAqE;AACnE,YAAI,OAAOJ,gBAAP,KAA4B,UAAhC,EAA4C;AAC1CA,UAAAA,gBAAgB,CAACF,MAAD,EAAS;AACvBC,YAAAA,QAAQ,EAAEA,QADa;AAEvBM,YAAAA,MAAM,EAAE3C,QAAQ,CAACG,OAAT,CAAiByC;AAFF,WAAT,CAAhB;AAID;AACF;AACF;AAfA,GAnByB,EAmCzB;AACDtE,IAAAA,GAAG,EAAE,OADJ;AAEDX,IAAAA,KAAK,EAAE,SAAS6D,KAAT,GAAiB;AACtB,UAAIqB,IAAI,GAAGC,SAAS,CAAC7E,MAAV,GAAmB,CAAnB,IAAwB6E,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AACA,UAAIE,aAAa,GAAG,KAAKjF,KAAL,CAAWiF,aAA/B;AAAA,UACIT,OAAO,GAAG,KAAKhB,QAAL,CAAcsB,IAAI,CAACI,EAAnB,CADd;;AAIA,UAAI,CAACV,OAAL,EAAc;AACZrB,QAAAA,KAAK,CAAC,6BAAD,CAAL;AACA;AACD;;AAEDqB,MAAAA,OAAO,CAACf,KAAR;;AAEA,UAAI,OAAOwB,aAAP,KAAyB,UAA7B,EAAyC;AACvCA,QAAAA,aAAa,CAACH,IAAI,CAACI,EAAN,EAAU;AAAEN,UAAAA,MAAM,EAAE3C,QAAQ,CAACG,OAAT,CAAiB+C;AAA3B,SAAV,CAAb;AACD;AACF;AAlBA,GAnCyB,EAsDzB;AACD5E,IAAAA,GAAG,EAAE,QADJ;AAEDX,IAAAA,KAAK,EAAE,SAAS+D,MAAT,CAAgByB,GAAhB,EAAqBN,IAArB,EAA2B;AAChC,UAAIO,MAAM,GAAG,IAAb;;AAEA,UAAIC,MAAM,GAAG,KAAKtF,KAAlB;AAAA,UACIuF,iBAAiB,GAAGD,MAAM,CAACE,UAD/B;AAAA,UAEIC,qBAAqB,GAAGF,iBAAiB,CAACG,MAF9C;AAAA,UAGIA,MAAM,GAAGD,qBAAqB,KAAKT,SAA1B,GAAsC,kBAAtC,GAA2DS,qBAHxE;AAAA,UAIIE,qBAAqB,GAAGJ,iBAAiB,CAACK,MAJ9C;AAAA,UAKIA,MAAM,GAAGD,qBAAqB,KAAKX,SAA1B,GAAsC,MAAtC,GAA+CW,qBAL5D;AAAA,UAMIE,OAAO,GAAGN,iBAAiB,CAACM,OANhC;AAAA,UAOIC,qBAAqB,GAAGP,iBAAiB,CAACQ,eAP9C;AAAA,UAQIA,eAAe,GAAGD,qBAAqB,KAAKd,SAA1B,GAAsC,KAAtC,GAA8Cc,qBARpE;AAAA,UASIE,aAAa,GAAGV,MAAM,CAACU,aAT3B;AAAA,UAUI5B,WAAW,GAAGkB,MAAM,CAAClB,WAVzB;AAAA,UAWI6B,iBAAiB,GAAGX,MAAM,CAACW,iBAX/B;AAAA,UAYIC,kBAAkB,GAAGZ,MAAM,CAACY,kBAZhC;AAAA,UAaIC,mBAAmB,GAAGb,MAAM,CAACa,mBAbjC;;AAgBA,UAAI,OAAOH,aAAP,KAAyB,UAA7B,EAAyC;AACvCA,QAAAA,aAAa,CAAClB,IAAI,CAACI,EAAN,EAAU;AAAEN,UAAAA,MAAM,EAAE3C,QAAQ,CAACG,OAAT,CAAiByC;AAA3B,SAAV,CAAb;AACD;;AAED,UAAIuB,MAAM,GAAGD,mBAAmB,CAACrB,IAAD,CAAhC;AAAA,UACIuB,IAAI,GAAGJ,iBAAiB,CAACnB,IAAD,CAD5B;;AAGA,UAAIN,OAAO,GAAGzC,YAAY,CAACK,OAAb,CAAqBwD,MAAM,CAACU,WAAP,EAArB,EAA2ClB,GAA3C,EAAgDM,MAAhD,CAAuDA,MAAvD,CAAd;;AAEA,UAAI,CAAC,CAAC,GAAG7D,SAAS,CAACO,OAAd,EAAuBgE,MAAvB,CAAL,EAAqC;AACnC5B,QAAAA,OAAO,CAAC+B,GAAR,CAAYH,MAAZ;AACD;;AAED,UAAIP,OAAJ,EAAa;AACXrB,QAAAA,OAAO,CAACqB,OAAR,CAAgBA,OAAhB;AACD;;AAED,UAAIE,eAAJ,EAAqB;AACnBvB,QAAAA,OAAO,CAACuB,eAAR;AACD;;AAED,WAAKvC,QAAL,CAAcsB,IAAI,CAACI,EAAnB,IAAyBV,OAAzB;AAEArB,MAAAA,KAAK,CAAC,0BAA0B2B,IAAI,CAACI,EAA/B,GAAoC,MAApC,GAA6CE,GAA9C,EAAmDN,IAAnD,CAAL;AAEAN,MAAAA,OAAO,CAACgC,IAAR,CAAaH,IAAb,EAAmBI,EAAnB,CAAsB,UAAtB,EAAkC,UAAUC,IAAV,EAAgB;AAChD,YAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;AACA,eAAOtB,MAAM,CAACzB,UAAP,CAAkBkB,IAAI,CAACI,EAAvB,EAA2ByB,OAA3B,CAAP;AACD,OAHD,EAGGC,GAHH,CAGO,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACzB,YAAIC,mBAAmB,GAAGb,kBAAkB,CAACW,GAAD,EAAMC,GAAN,CAA5C;AAAA,YACIE,KAAK,GAAGD,mBAAmB,CAACC,KADhC;AAAA,YAEIC,MAAM,GAAGF,mBAAmB,CAACE,MAFjC;;AAIA,YAAID,KAAJ,EAAW;AACT7D,UAAAA,KAAK,CAAC,uBAAD,EAA0B6D,KAA1B,CAAL;AACD,SAFD,MAEO;AACL7D,UAAAA,KAAK,CAAC,0BAAD,EAA6B8D,MAA7B,CAAL;AACD;;AAED,YAAI,OAAO7C,WAAP,KAAuB,UAA3B,EAAuC;AACrCA,UAAAA,WAAW,CAACU,IAAI,CAACI,EAAN,EAAU;AACnBZ,YAAAA,QAAQ,EAAE0C,KAAK,IAAI,CAAT,IAAc,GADL;AAEnBA,YAAAA,KAAK,EAAEA,KAFY;AAGnBC,YAAAA,MAAM,EAAED,KAAK,IAAIhC,SAAT,IAAsBiC,MAHX;AAInBrC,YAAAA,MAAM,EAAEoC,KAAK,IAAI/E,QAAQ,CAACG,OAAT,CAAiB8E,MAA1B,IAAoCjF,QAAQ,CAACG,OAAT,CAAiB+E;AAJ1C,WAAV,CAAX;AAMD;AACF,OAtBD;AAuBD;AArEA,GAtDyB,EA4HzB;AACD5G,IAAAA,GAAG,EAAE,QADJ;AAEDX,IAAAA,KAAK,EAAE,SAASwH,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,OAAO,GAAG,KAAKtH,KAAnB;AAAA,UACIuH,SAAS,GAAGD,OAAO,CAACC,SADxB;AAAA,UAEIC,WAAW,GAAGF,OAAO,CAACE,WAF1B;AAAA,UAGIC,KAAK,GAAGH,OAAO,CAACG,KAHpB;AAAA,UAIIC,QAAQ,GAAGJ,OAAO,CAACI,QAJvB;AAAA,UAKIvD,SAAS,GAAGmD,OAAO,CAACnD,SALxB;AAQA,aAAOrD,OAAO,CAACsB,OAAR,CAAgBuF,aAAhB,CAA8BJ,SAA9B,EAAyC;AAAEK,QAAAA,SAAS,EAAE,CAAC,GAAGvG,YAAY,CAACe,OAAjB,EAA0BoF,WAA1B,CAAb;AAAqDC,QAAAA,KAAK,EAAEA;AAA5D,OAAzC,EAA8G3G,OAAO,CAACsB,OAAR,CAAgByF,QAAhB,CAAyBC,GAAzB,CAA6BJ,QAA7B,EAAuC,UAAUK,KAAV,EAAiB;AAC3K,eAAO,CAAC,GAAGnH,MAAM,CAACoH,YAAX,EAAyBD,KAAzB,EAAgCtI,MAAM,CAACwI,MAAP,CAAc;AACnDxE,UAAAA,KAAK,EAAE,CAAC,GAAGlC,SAAS,CAACa,OAAd,EAAuBiF,MAAvB,EAA+B,OAA/B,EAAwCU,KAAK,CAAC/H,KAAN,CAAY8E,IAApD,CAD4C;AAEnDnB,UAAAA,MAAM,EAAE,CAAC,GAAGpC,SAAS,CAACa,OAAd,EAAuBiF,MAAvB,EAA+B,QAA/B,EAAyClD,SAAzC,EAAoD4D,KAAK,CAAC/H,KAAN,CAAY8E,IAAhE;AAF2C,SAAd,EAGpCiD,KAAK,CAAC/H,KAH8B,CAAhC,CAAP;AAID,OALoH,CAA9G,CAAP;AAMD;AAnBA,GA5HyB,CAAhB,CAAZ;;AAkJA,SAAOoD,aAAP;AACD,CAlKmB,CAkKlBxC,MAAM,CAACsH,SAlKW,CAApB;;AAoKA9E,aAAa,CAAC+E,SAAd,GAA0B;AACxBT,EAAAA,QAAQ,EAAEzG,WAAW,CAACmB,OAAZ,CAAoBgG,SAApB,CAA8B,CAACnH,WAAW,CAACmB,OAAZ,CAAoBiG,OAArB,EAA8BpH,WAAW,CAACmB,OAAZ,CAAoBkG,OAApB,CAA4BrH,WAAW,CAACmB,OAAZ,CAAoBiG,OAAhD,CAA9B,CAA9B,CADc;AAExBd,EAAAA,SAAS,EAAEtG,WAAW,CAACmB,OAAZ,CAAoBmG,MAApB,CAA2BC,UAFd;AAGxBhB,EAAAA,WAAW,EAAEvG,WAAW,CAACmB,OAAZ,CAAoBgG,SAApB,CAA8B,CAACnH,WAAW,CAACmB,OAAZ,CAAoBmG,MAArB,EAA6BtH,WAAW,CAACmB,OAAZ,CAAoBkG,OAApB,CAA4BrH,WAAW,CAACmB,OAAZ,CAAoBmG,MAAhD,CAA7B,CAA9B,CAHW;AAIxBtD,EAAAA,aAAa,EAAEhE,WAAW,CAACmB,OAAZ,CAAoBqG,IAJX;AAKxBzC,EAAAA,aAAa,EAAE/E,WAAW,CAACmB,OAAZ,CAAoBqG,IALX;AAMxBlE,EAAAA,gBAAgB,EAAEtD,WAAW,CAACmB,OAAZ,CAAoBqG,IANd;AAOxBrE,EAAAA,WAAW,EAAEnD,WAAW,CAACmB,OAAZ,CAAoBqG,IAApB,CAAyBD,UAPd;AAQxB3E,EAAAA,gBAAgB,EAAE5C,WAAW,CAACmB,OAAZ,CAAoBsG,MARd;AASxBlD,EAAAA,UAAU,EAAEvE,WAAW,CAACmB,OAAZ,CAAoBuG,KAApB,CAA0B;AACpCjD,IAAAA,MAAM,EAAEzE,WAAW,CAACmB,OAAZ,CAAoBmG,MADQ;AAEpC3C,IAAAA,MAAM,EAAE3E,WAAW,CAACmB,OAAZ,CAAoBmG,MAFQ;AAGpC1C,IAAAA,OAAO,EAAE5E,WAAW,CAACmB,OAAZ,CAAoBuG,KAApB,CAA0B;AACjCC,MAAAA,QAAQ,EAAE3H,WAAW,CAACmB,OAAZ,CAAoBsG,MADG;AAEjCG,MAAAA,QAAQ,EAAE5H,WAAW,CAACmB,OAAZ,CAAoBsG;AAFG,KAA1B,CAH2B;AAOpC3C,IAAAA,eAAe,EAAE9E,WAAW,CAACmB,OAAZ,CAAoB0G;AAPD,GAA1B,CATY;AAkBxBrB,EAAAA,KAAK,EAAExG,WAAW,CAACmB,OAAZ,CAAoB2G,MAlBH;AAmBxB9C,EAAAA,iBAAiB,EAAEhF,WAAW,CAACmB,OAAZ,CAAoBqG,IAnBf;AAoBxBvC,EAAAA,kBAAkB,EAAEjF,WAAW,CAACmB,OAAZ,CAAoBqG,IApBhB;AAqBxBtC,EAAAA,mBAAmB,EAAElF,WAAW,CAACmB,OAAZ,CAAoBqG,IArBjB;AAsBxBtE,EAAAA,SAAS,EAAElD,WAAW,CAACmB,OAAZ,CAAoBmG,MAApB,CAA2BC;AAtBd,CAA1B;AAyBApF,aAAa,CAAC4F,YAAd,GAA6B;AAC3BzB,EAAAA,SAAS,EAAE,IADgB;AAE3B1D,EAAAA,gBAAgB,EAAE,GAFS;AAG3B2B,EAAAA,UAAU,EAAE,EAHe;AAI3BS,EAAAA,iBAAiB,EAAE,SAASA,iBAAT,CAA2BnB,IAA3B,EAAiC;AAClD,QAAImE,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBrE,IAAI,CAACuB,IAA7B;AACA,WAAO4C,QAAP;AACD,GAR0B;AAS3B/C,EAAAA,kBAAkB,EAAE,SAASA,kBAAT,CAA4BW,GAA5B,EAAiC;AACnD,QAAIC,GAAG,GAAG/B,SAAS,CAAC7E,MAAV,GAAmB,CAAnB,IAAwB6E,SAAS,CAAC,CAAD,CAAT,KAAiBC,SAAzC,GAAqDD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA9E;AAEA,QAAIqE,IAAI,GAAGtC,GAAG,CAACsC,IAAJ,GAAW,CAAC,GAAG3H,OAAO,CAACW,OAAZ,EAAqB0E,GAAG,CAACsC,IAAzB,CAAX,GAA4C,EAAvD;AACA,QAAIpC,KAAK,GAAG,IAAZ;;AAEA,QAAIH,GAAJ,EAAS;AACPG,MAAAA,KAAK,GAAGH,GAAG,CAACwC,OAAZ;AACD,KAFD,MAEO,IAAID,IAAI,CAACE,MAAT,EAAiB;AACtBtC,MAAAA,KAAK,GAAGoC,IAAI,CAACE,MAAb;AACD;;AAED,WAAOF,IAAI,CAACE,MAAZ;AAEA,WAAO;AAAEtC,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,MAAM,EAAEmC;AAAxB,KAAP;AACD,GAxB0B;AAyB3BjD,EAAAA,mBAAmB,EAAE,SAASA,mBAAT,GAA+B;AAClD,WAAO,EAAP;AACD;AA3B0B,CAA7B;AA8BAxG,OAAO,CAACyC,OAAR,GAAkBgB,aAAlB","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _propTypes = require('prop-types');\r\n\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\n\r\nvar _invariant = require('invariant');\r\n\r\nvar _invariant2 = _interopRequireDefault(_invariant);\r\n\r\nvar _classnames = require('classnames');\r\n\r\nvar _classnames2 = _interopRequireDefault(_classnames);\r\n\r\nvar _bindKey = require('lodash/bindKey');\r\n\r\nvar _bindKey2 = _interopRequireDefault(_bindKey);\r\n\r\nvar _clone = require('lodash/clone');\r\n\r\nvar _clone2 = _interopRequireDefault(_clone);\r\n\r\nvar _debounce = require('lodash/debounce');\r\n\r\nvar _debounce2 = _interopRequireDefault(_debounce);\r\n\r\nvar _isEmpty = require('lodash/isEmpty');\r\n\r\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\r\n\r\nvar _superagent = require('superagent');\r\n\r\nvar _superagent2 = _interopRequireDefault(_superagent);\r\n\r\nvar _status = require('./constants/status');\r\n\r\nvar _status2 = _interopRequireDefault(_status);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = require('debug')('react-file-uploader:UploadManager');\r\n\r\nvar UploadManager = function (_Component) {\r\n  _inherits(UploadManager, _Component);\r\n\r\n  function UploadManager(props) {\r\n    _classCallCheck(this, UploadManager);\r\n\r\n    var _this = _possibleConstructorReturn(this, (UploadManager.__proto__ || Object.getPrototypeOf(UploadManager)).call(this, props));\r\n\r\n    _this.requests = {};\r\n    _this.abort = _this.abort.bind(_this);\r\n    _this.upload = _this.upload.bind(_this);\r\n    _this.onProgress = (0, _debounce2.default)(_this.onProgress.bind(_this), props.progressDebounce);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(UploadManager, [{\r\n    key: 'componentDidMount',\r\n    value: function componentDidMount() {\r\n      // eslint-disable-next-line react/prop-types\r\n      if (this.props.uploadHeader) {\r\n        // eslint-disable-next-line no-console\r\n        console.warn('`props.uploadHeader` is DEPRECATED. Please use `props.uploadHeaderHandler` instead.');\r\n      }\r\n\r\n      // eslint-disable-next-line react/prop-types\r\n      if (this.props.formDataParser) {\r\n        // eslint-disable-next-line no-console\r\n        console.warn('`props.formDataParser` is DEPRECATED. Please use `props.uploadDataHandler` instead.');\r\n      }\r\n\r\n      (0, _invariant2.default)(!!this.props.uploadUrl, 'Upload end point must be provided to upload files');\r\n\r\n      (0, _invariant2.default)(!!this.props.onUploadEnd, 'onUploadEnd function must be provided');\r\n    }\r\n  }, {\r\n    key: 'onProgress',\r\n    value: function onProgress(fileId, progress) {\r\n      var onUploadProgress = this.props.onUploadProgress,\r\n          request = this.requests[fileId];\r\n\r\n\r\n      if (request.xhr && request.xhr.readyState !== 4 && !request.aborted) {\r\n        if (typeof onUploadProgress === 'function') {\r\n          onUploadProgress(fileId, {\r\n            progress: progress,\r\n            status: _status2.default.UPLOADING\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'abort',\r\n    value: function abort() {\r\n      var file = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n      var onUploadAbort = this.props.onUploadAbort,\r\n          request = this.requests[file.id];\r\n\r\n\r\n      if (!request) {\r\n        debug('request instance not found.');\r\n        return;\r\n      }\r\n\r\n      request.abort();\r\n\r\n      if (typeof onUploadAbort === 'function') {\r\n        onUploadAbort(file.id, { status: _status2.default.ABORTED });\r\n      }\r\n    }\r\n  }, {\r\n    key: 'upload',\r\n    value: function upload(url, file) {\r\n      var _this2 = this;\r\n\r\n      var _props = this.props,\r\n          _props$reqConfigs = _props.reqConfigs,\r\n          _props$reqConfigs$acc = _props$reqConfigs.accept,\r\n          accept = _props$reqConfigs$acc === undefined ? 'application/json' : _props$reqConfigs$acc,\r\n          _props$reqConfigs$met = _props$reqConfigs.method,\r\n          method = _props$reqConfigs$met === undefined ? 'post' : _props$reqConfigs$met,\r\n          timeout = _props$reqConfigs.timeout,\r\n          _props$reqConfigs$wit = _props$reqConfigs.withCredentials,\r\n          withCredentials = _props$reqConfigs$wit === undefined ? false : _props$reqConfigs$wit,\r\n          onUploadStart = _props.onUploadStart,\r\n          onUploadEnd = _props.onUploadEnd,\r\n          uploadDataHandler = _props.uploadDataHandler,\r\n          uploadErrorHandler = _props.uploadErrorHandler,\r\n          uploadHeaderHandler = _props.uploadHeaderHandler;\r\n\r\n\r\n      if (typeof onUploadStart === 'function') {\r\n        onUploadStart(file.id, { status: _status2.default.UPLOADING });\r\n      }\r\n\r\n      var header = uploadHeaderHandler(file),\r\n          data = uploadDataHandler(file);\r\n\r\n      var request = _superagent2.default[method.toLowerCase()](url).accept(accept);\r\n\r\n      if (!(0, _isEmpty2.default)(header)) {\r\n        request.set(header);\r\n      }\r\n\r\n      if (timeout) {\r\n        request.timeout(timeout);\r\n      }\r\n\r\n      if (withCredentials) {\r\n        request.withCredentials();\r\n      }\r\n\r\n      this.requests[file.id] = request;\r\n\r\n      debug('start uploading file#' + file.id + ' to ' + url, file);\r\n\r\n      request.send(data).on('progress', function (_ref) {\r\n        var percent = _ref.percent;\r\n        return _this2.onProgress(file.id, percent);\r\n      }).end(function (err, res) {\r\n        var _uploadErrorHandler = uploadErrorHandler(err, res),\r\n            error = _uploadErrorHandler.error,\r\n            result = _uploadErrorHandler.result;\r\n\r\n        if (error) {\r\n          debug('failed to upload file', error);\r\n        } else {\r\n          debug('succeeded to upload file', result);\r\n        }\r\n\r\n        if (typeof onUploadEnd === 'function') {\r\n          onUploadEnd(file.id, {\r\n            progress: error && 0 || 100,\r\n            error: error,\r\n            result: error && undefined || result,\r\n            status: error && _status2.default.FAILED || _status2.default.UPLOADED\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this3 = this;\r\n\r\n      var _props2 = this.props,\r\n          component = _props2.component,\r\n          customClass = _props2.customClass,\r\n          style = _props2.style,\r\n          children = _props2.children,\r\n          uploadUrl = _props2.uploadUrl;\r\n\r\n\r\n      return _react2.default.createElement(component, { className: (0, _classnames2.default)(customClass), style: style }, _react2.default.Children.map(children, function (child) {\r\n        return (0, _react.cloneElement)(child, Object.assign({\r\n          abort: (0, _bindKey2.default)(_this3, 'abort', child.props.file),\r\n          upload: (0, _bindKey2.default)(_this3, 'upload', uploadUrl, child.props.file)\r\n        }, child.props));\r\n      }));\r\n    }\r\n  }]);\r\n\r\n  return UploadManager;\r\n}(_react.Component);\r\n\r\nUploadManager.propTypes = {\r\n  children: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.arrayOf(_propTypes2.default.element)]),\r\n  component: _propTypes2.default.string.isRequired,\r\n  customClass: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]),\r\n  onUploadAbort: _propTypes2.default.func,\r\n  onUploadStart: _propTypes2.default.func,\r\n  onUploadProgress: _propTypes2.default.func,\r\n  onUploadEnd: _propTypes2.default.func.isRequired,\r\n  progressDebounce: _propTypes2.default.number,\r\n  reqConfigs: _propTypes2.default.shape({\r\n    accept: _propTypes2.default.string,\r\n    method: _propTypes2.default.string,\r\n    timeout: _propTypes2.default.shape({\r\n      response: _propTypes2.default.number,\r\n      deadline: _propTypes2.default.number\r\n    }),\r\n    withCredentials: _propTypes2.default.bool\r\n  }),\r\n  style: _propTypes2.default.object,\r\n  uploadDataHandler: _propTypes2.default.func,\r\n  uploadErrorHandler: _propTypes2.default.func,\r\n  uploadHeaderHandler: _propTypes2.default.func,\r\n  uploadUrl: _propTypes2.default.string.isRequired\r\n};\r\n\r\nUploadManager.defaultProps = {\r\n  component: 'ul',\r\n  progressDebounce: 150,\r\n  reqConfigs: {},\r\n  uploadDataHandler: function uploadDataHandler(file) {\r\n    var formData = new FormData();\r\n    formData.append('file', file.data);\r\n    return formData;\r\n  },\r\n  uploadErrorHandler: function uploadErrorHandler(err) {\r\n    var res = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n    var body = res.body ? (0, _clone2.default)(res.body) : {};\r\n    var error = null;\r\n\r\n    if (err) {\r\n      error = err.message;\r\n    } else if (body.errors) {\r\n      error = body.errors;\r\n    }\r\n\r\n    delete body.errors;\r\n\r\n    return { error: error, result: body };\r\n  },\r\n  uploadHeaderHandler: function uploadHeaderHandler() {\r\n    return {};\r\n  }\r\n};\r\n\r\nexports.default = UploadManager;"]},"metadata":{},"sourceType":"script"}