{"ast":null,"code":"var _jsxFileName = \"/Users/ihyeonju/project/vcmusic_front/src/components/generator/dragdrop.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useRef, useState, useEffect } from \"react\";\nimport \"./DragDrop.scss\";\nimport styled from \"styled-components\";\nimport { FaLongArrowAltRight } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MemberContainer = styled.div`\n    width: 140px;\n    height: auto;\n    padding: 20px;\n    border: 1px solid black;\n    padding-bottom: 5px;\n    align-items: center;\n  `;\n_c = MemberContainer;\nconst MemberName = styled.div`\n    margin-left: 20px;\n    font-size: 15px;\n    font-weight: 500;\n  `;\n_c2 = MemberName;\nconst GetMemberButton = styled.button`\n    border: 0;\n    width: 300px;\n    height: 70px;\n    background-color: #2762FF;\n    color: white;\n    font-size: 18px;\n    font-weight: 700;\n    margin-top: 30px;\n  `;\n_c3 = GetMemberButton;\nconst CheckButton = styled.button`\n    border: 1px solid black;\n    width: 15px;\n    height: 15px;\n    border-radius: 10px;\n    background-color: white;\n    margin-top: 2px;\n  `;\n_c4 = CheckButton;\n\nconst baebae = require(\"../../assets/baebaeFull.mp3\");\n\nconst DragDrop = () => {\n  _s();\n\n  const [isDragging, setIsDragging] = useState(false);\n  const [files, setFiles] = useState([]);\n  const dragRef = useRef(null);\n  const fileId = useRef(0);\n  const [audioFile, setAudioFile] = useState('');\n  const [memberList, setMemberList] = useState([]);\n  const [memberIndex, setMemberIndex] = useState(-1);\n  const [voiceIndex, setVoiceIndex] = useState(-1);\n  const voiceList = ['Man Voice', 'Woman Voice']; // const [getMember, setGetMember] = useState<Boolean>(false);\n\n  useEffect(() => {\n    console.log(files[0]); // console.log(baebae)\n\n    const {\n      getAudioDurationInSeconds\n    } = require('get-audio-duration'); // From a local path...\n\n\n    getAudioDurationInSeconds(files[0].object).then(duration => {\n      console.log(duration);\n    });\n\n    function getBase64(file) {\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        if (reader.result) {\n          setAudioFile(reader.result);\n        }\n      };\n\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n      };\n    }\n\n    if (files.length > 0) {\n      getBase64(files[0].object);\n    }\n\n    console.log(audioFile);\n  }, [files, audioFile]);\n  useEffect(() => {}, [memberList]);\n\n  const memberOnClick = () => {\n    // api 넣기\n    setMemberList(['TOP', 'GD', '태양', '승리', '대성']);\n  };\n\n  const onChangeFiles = useCallback(e => {\n    let selectFiles = [];\n    let tempFiles = files;\n\n    if (e.type === \"drop\") {\n      selectFiles = e.dataTransfer.files;\n    } else {\n      selectFiles = e.target.files;\n    }\n\n    for (const file of selectFiles) {\n      tempFiles = [...tempFiles, {\n        id: fileId.current++,\n        object: file\n      }];\n    }\n\n    setFiles(tempFiles);\n  }, [files]);\n  const handleFilterFile = useCallback(id => {\n    setFiles(files.filter(file => file.id !== id));\n  }, [files]);\n  const handleDragIn = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n  const handleDragOut = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  }, []);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.dataTransfer.files) {\n      setIsDragging(true);\n    }\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    onChangeFiles(e);\n    setIsDragging(false);\n  }, [onChangeFiles]);\n  const initDragEvents = useCallback(() => {\n    if (dragRef.current !== null) {\n      dragRef.current.addEventListener(\"dragenter\", handleDragIn);\n      dragRef.current.addEventListener(\"dragleave\", handleDragOut);\n      dragRef.current.addEventListener(\"dragover\", handleDragOver);\n      dragRef.current.addEventListener(\"drop\", handleDrop);\n    }\n  }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n  const resetDragEvents = useCallback(() => {\n    if (dragRef.current !== null) {\n      dragRef.current.removeEventListener(\"dragenter\", handleDragIn);\n      dragRef.current.removeEventListener(\"dragleave\", handleDragOut);\n      dragRef.current.removeEventListener(\"dragover\", handleDragOver);\n      dragRef.current.removeEventListener(\"drop\", handleDrop);\n    }\n  }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n  useEffect(() => {\n    initDragEvents();\n    return () => resetDragEvents();\n  }, [initDragEvents, resetDragEvents]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"DragDrop\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"fileUpload\",\n        style: {\n          display: \"none\"\n        },\n        multiple: true,\n        onChange: onChangeFiles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: isDragging ? \"DragDrop-File-Dragging\" : \"DragDrop-File\",\n        htmlFor: \"fileUpload\",\n        ref: dragRef,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 800\n          },\n          children: \"\\uD30C\\uC77C \\uCCA8\\uBD80\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"DragDrop-Files\",\n        children: files.length > 0 && files.map(file => {\n          const {\n            id,\n            object: {\n              name\n            }\n          } = file;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"DragDrop-Files-Filter\",\n              onClick: () => handleFilterFile(id),\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), audioFile.toString().length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n        controls: true,\n        children: /*#__PURE__*/_jsxDEV(\"source\", {\n          src: audioFile.toString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GetMemberButton, {\n        onClick: memberOnClick,\n        children: \"\\uD30C\\uD2B8 \\uBD88\\uB7EC\\uC624\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), memberList.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          marginTop: \"30px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(MemberContainer, {\n          children: memberList.map((name, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"100%\",\n              display: \"flex\",\n              height: \"30px\"\n            },\n            children: [index == memberIndex ? /*#__PURE__*/_jsxDEV(CheckButton, {\n              style: {\n                backgroundColor: \"green\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 25\n            }, this) : /*#__PURE__*/_jsxDEV(CheckButton, {\n              onClick: () => {\n                setMemberIndex(index);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(MemberName, {\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FaLongArrowAltRight, {\n          style: {\n            fontSize: \"50px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MemberContainer, {\n          children: voiceList.map((name, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"100%\",\n              display: \"flex\",\n              height: \"30px\"\n            },\n            children: [index == voiceIndex ? /*#__PURE__*/_jsxDEV(CheckButton, {\n              style: {\n                backgroundColor: \"green\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 25\n            }, this) : /*#__PURE__*/_jsxDEV(CheckButton, {\n              onClick: () => {\n                setVoiceIndex(index);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(MemberName, {\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true);\n};\n\n_s(DragDrop, \"6B/kKOTwIoSh6vCTAvd17HK9egc=\");\n\n_c5 = DragDrop;\nexport default DragDrop;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"MemberContainer\");\n$RefreshReg$(_c2, \"MemberName\");\n$RefreshReg$(_c3, \"GetMemberButton\");\n$RefreshReg$(_c4, \"CheckButton\");\n$RefreshReg$(_c5, \"DragDrop\");","map":{"version":3,"sources":["/Users/ihyeonju/project/vcmusic_front/src/components/generator/dragdrop.tsx"],"names":["React","useCallback","useRef","useState","useEffect","styled","FaLongArrowAltRight","MemberContainer","div","MemberName","GetMemberButton","button","CheckButton","baebae","require","DragDrop","isDragging","setIsDragging","files","setFiles","dragRef","fileId","audioFile","setAudioFile","memberList","setMemberList","memberIndex","setMemberIndex","voiceIndex","setVoiceIndex","voiceList","console","log","getAudioDurationInSeconds","object","then","duration","getBase64","file","reader","FileReader","readAsDataURL","onload","result","onerror","error","length","memberOnClick","onChangeFiles","e","selectFiles","tempFiles","type","dataTransfer","target","id","current","handleFilterFile","filter","handleDragIn","preventDefault","stopPropagation","handleDragOut","handleDragOver","handleDrop","initDragEvents","addEventListener","resetDragEvents","removeEventListener","display","fontWeight","map","name","toString","width","justifyContent","alignItems","marginTop","index","height","backgroundColor","fontSize"],"mappings":"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","sourcesContent":["import React, {\n    ChangeEvent,\n    useCallback,\n    useRef,\n    useState,\n    useEffect,\n    SetStateAction\n  } from \"react\";\n  import \"./DragDrop.scss\";\n  import styled from \"styled-components\";\n  import {FaLongArrowAltRight} from \"react-icons/fa\";\n\n  const MemberContainer = styled.div`\n    width: 140px;\n    height: auto;\n    padding: 20px;\n    border: 1px solid black;\n    padding-bottom: 5px;\n    align-items: center;\n  `\n\n  const MemberName = styled.div`\n    margin-left: 20px;\n    font-size: 15px;\n    font-weight: 500;\n  `\n  \n  const GetMemberButton = styled.button`\n    border: 0;\n    width: 300px;\n    height: 70px;\n    background-color: #2762FF;\n    color: white;\n    font-size: 18px;\n    font-weight: 700;\n    margin-top: 30px;\n  `\n\n  const CheckButton = styled.button`\n    border: 1px solid black;\n    width: 15px;\n    height: 15px;\n    border-radius: 10px;\n    background-color: white;\n    margin-top: 2px;\n  `\n\n  const baebae = require(\"../../assets/baebaeFull.mp3\");\n  \n  interface IFileTypes {\n    id: number;\n    object: File;\n  }\n  \n  const DragDrop = () => {\n    const [isDragging, setIsDragging] = useState<boolean>(false);\n    const [files, setFiles] = useState<IFileTypes[]>([]);\n  \n    const dragRef = useRef<HTMLLabelElement | null>(null);\n    const fileId = useRef<number>(0);\n    const [audioFile, setAudioFile] = useState<string | ArrayBuffer>('');\n    const [memberList, setMemberList] = useState<String[]>([]);\n    const [memberIndex, setMemberIndex] = useState<Number>(-1);\n    const [voiceIndex, setVoiceIndex] = useState<Number>(-1);\n    const voiceList = ['Man Voice', 'Woman Voice'];\n    // const [getMember, setGetMember] = useState<Boolean>(false);\n\n    useEffect(()=>{\n        console.log(files[0])\n        // console.log(baebae)\n\n        const { getAudioDurationInSeconds } = require('get-audio-duration');\n\n        // From a local path...\n        getAudioDurationInSeconds(files[0].object).then((duration:any) => {\n            console.log(duration);\n        });\n\n        function getBase64(file: File) {\n            let reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = function () {\n                if(reader.result){\n                    setAudioFile(reader.result)\n                }\n            };\n            reader.onerror = function (error) {\n                console.log('Error: ', error);\n            };\n        }\n\n        if(files.length > 0){\n            getBase64(files[0].object)\n        }\n\n        console.log(audioFile)\n\n    },[files, audioFile])\n\n    useEffect(()=>{\n\n    },[memberList])\n\n    const memberOnClick = () => {\n        // api 넣기\n        setMemberList(['TOP', 'GD', '태양', '승리', '대성'])\n    }\n  \n    const onChangeFiles = useCallback(\n      (e: ChangeEvent<HTMLInputElement> | any): void => {\n        let selectFiles: File[] = [];\n        let tempFiles: IFileTypes[] = files;\n  \n        if (e.type === \"drop\") {\n          selectFiles = e.dataTransfer.files;\n        } else {\n          selectFiles = e.target.files;\n        }\n  \n        for (const file of selectFiles) {\n          tempFiles = [\n            ...tempFiles,\n            {\n              id: fileId.current++,\n              object: file\n            }\n          ];\n        }\n  \n        setFiles(tempFiles);\n      },\n      [files]\n    );\n  \n    const handleFilterFile = useCallback(\n      (id: number): void => {\n        setFiles(files.filter((file: IFileTypes) => file.id !== id));\n      },\n      [files]\n    );\n  \n    const handleDragIn = useCallback((e: DragEvent): void => {\n      e.preventDefault();\n      e.stopPropagation();\n    }, []);\n  \n    const handleDragOut = useCallback((e: DragEvent): void => {\n      e.preventDefault();\n      e.stopPropagation();\n  \n      setIsDragging(false);\n    }, []);\n  \n    const handleDragOver = useCallback((e: DragEvent): void => {\n      e.preventDefault();\n      e.stopPropagation();\n  \n      if (e.dataTransfer!.files) {\n        setIsDragging(true);\n      }\n    }, []);\n  \n    const handleDrop = useCallback(\n      (e: DragEvent): void => {\n        e.preventDefault();\n        e.stopPropagation();\n  \n        onChangeFiles(e);\n        setIsDragging(false);\n      },\n      [onChangeFiles]\n    );\n  \n    const initDragEvents = useCallback((): void => {\n      if (dragRef.current !== null) {\n        dragRef.current.addEventListener(\"dragenter\", handleDragIn);\n        dragRef.current.addEventListener(\"dragleave\", handleDragOut);\n        dragRef.current.addEventListener(\"dragover\", handleDragOver);\n        dragRef.current.addEventListener(\"drop\", handleDrop);\n      }\n    }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n  \n    const resetDragEvents = useCallback((): void => {\n      if (dragRef.current !== null) {\n        dragRef.current.removeEventListener(\"dragenter\", handleDragIn);\n        dragRef.current.removeEventListener(\"dragleave\", handleDragOut);\n        dragRef.current.removeEventListener(\"dragover\", handleDragOver);\n        dragRef.current.removeEventListener(\"drop\", handleDrop);\n      }\n    }, [handleDragIn, handleDragOut, handleDragOver, handleDrop]);\n  \n    useEffect(() => {\n      initDragEvents();\n  \n      return () => resetDragEvents();\n    }, [initDragEvents, resetDragEvents]);\n  \n    return (\n        <>\n      <div className=\"DragDrop\">\n        <input\n          type=\"file\"\n          id=\"fileUpload\"\n          style={{ display: \"none\" }}\n          multiple={true}\n          onChange={onChangeFiles}\n        />\n  \n        <label\n          className={isDragging ? \"DragDrop-File-Dragging\" : \"DragDrop-File\"}\n          htmlFor=\"fileUpload\"\n          ref={dragRef}\n        >\n          <div style={{fontWeight:800}}>파일 첨부</div>\n        </label>\n  \n        <div className=\"DragDrop-Files\">\n          {files.length > 0 &&\n            files.map((file: IFileTypes) => {\n              const {\n                id,\n                object: { name }\n              } = file;\n  \n              return (\n                <div key={id}>\n                  <div>{name}</div>\n                  <div\n                    className=\"DragDrop-Files-Filter\"\n                    onClick={() => handleFilterFile(id)}\n                  >\n                    X\n                  </div>\n                </div>\n              );\n            })}\n        </div>\n      </div>\n      {audioFile.toString().length > 0 ? <>\n            <audio controls={true}>\n                <source src={audioFile.toString()}/>\n            </audio>\n            <GetMemberButton onClick={memberOnClick}>파트 불러오기</GetMemberButton>\n        </>:<></>}\n        {memberList.length > 0 ? <>\n        <div style={{width:\"100%\", display:\"flex\", justifyContent:\"center\", alignItems:\"center\", marginTop:\"30px\"}}>\n            <MemberContainer>\n                {memberList.map((name, index) => (\n                    <div style={{width:\"100%\", display:\"flex\", height:\"30px\"}}>\n                        {index == memberIndex ? \n                        <CheckButton style={{backgroundColor:\"green\"}}/>:\n                        <CheckButton onClick={()=>{setMemberIndex(index)}}/>}\n                        <MemberName>{name}</MemberName>\n                    </div>\n                ))}\n            </MemberContainer>\n            <FaLongArrowAltRight style={{fontSize:\"50px\"}}/>\n            <MemberContainer>\n                {voiceList.map((name, index) => (\n                    <div style={{width:\"100%\", display:\"flex\", height:\"30px\"}}>\n                        {index == voiceIndex ? \n                        <CheckButton style={{backgroundColor:\"green\"}}/>:\n                        <CheckButton onClick={()=>{setVoiceIndex(index)}}/>}\n                        <MemberName>{name}</MemberName>\n                    </div>\n                ))}\n            </MemberContainer>\n        </div>\n        </>:<></>}\n      </>\n    );\n  };\n  \n  export default DragDrop;"]},"metadata":{},"sourceType":"module"}