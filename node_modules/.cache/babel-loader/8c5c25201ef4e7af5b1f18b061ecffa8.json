{"ast":null,"code":"var _jsxFileName = \"/Users/ihyeonju/project/vcmusic_front/src/components/generator/musicGenerator.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport { SpinnerCircle } from \"components\";\nimport ImageUploading from \"react-images-uploading\";\nimport Rodal from \"rodal\";\nimport \"rodal/lib/rodal.css\"; // import toonify from 'toonify'\n\nimport { ReactComponent as ImageQuestion } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/imageQuestion.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ImageBoxContainer = styled(ImageQuestion)`\n  @media screen and (max-width: 768px) {\n    width: 45px;\n    height: 45px;\n  }\n`;\n_c = ImageBoxContainer;\nconst NoticeTextContainer = styled.div`\n  font-weight: normal;\n  font-size: 16px;\n  margin-top: 36px;\n  color: white;\n\n  @media screen and (max-width: 768px) {\n    font-size: 13px;\n    margin-top: 34px;\n  }\n`;\n_c2 = NoticeTextContainer;\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n_c3 = Container;\nconst UploadBox = styled.div`\n  width: 282px;\n  height: 347px;\n  margin-top: 25px;\n  //   background-color: #E0E0E0;\n  background: linear-gradient(#ffffff, #a5dbfa);\n  color: #00629e;\n  border: 1.85478px solid #00629e;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  font-weight: normal;\n  font-size: 2px;\n  align-items: center;\n\n  &:hover {\n    opacity: 0.6;\n  }\n\n  @media screen and (max-width: 768px) {\n    width: 204px;\n    height: 251px;\n    font-size: 14px;\n  }\n`;\n_c4 = UploadBox;\nconst PopupContainer = styled.div`\n  width: 274px;\n  height: 135px;\n  background-color: #4B4B4B;\n  color: white;\n  border-radius: 20px;\n  text-align: center;\n  padding: 25px;\n  margin-left: -20px;\n  margin-top: -8px;\n`;\n_c5 = PopupContainer;\nconst PopupText = styled.div`\n  text-align: center;\n  font-size: 13px;\n  font-weight: 400;\n  margin-bottom: 3px;\n`;\n_c6 = PopupText;\nconst BackButton = styled.button`\n    width: 80px;\n    height: 30px;\n    border-radius: 20px;\n    background-color: #F761A6;\n    color: white;\n    border: 0;\n    margin-top: 5px;\n`;\n_c7 = BackButton;\n\nconst MusicGenerator = () => {\n  _s();\n\n  const [images, setImages] = useState([]);\n  const [isModelLoading, setIsModelLoading] = useState(false);\n  const [model, setModel] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [result, setResult] = useState();\n  const [visible, setVisible] = useState(false);\n  const history = useHistory();\n  const imageRef = useRef();\n  const maxNumber = 1;\n\n  const getResult = () => {// const deepai = require(\"deepai\"); // OR include deepai.min.js as a script tag in your HTML\n    // deepai.setApiKey(\"b6fba1a0-0488-4c36-a7f6-ba7d5c5dbb09\");\n    // (async function geneterator() {\n    //     var success = true;\n    //   var resp = await deepai\n    //     .callStandardApi(\"toonify\", {\n    //       image: images[0][\"data_url\"],\n    //     })\n    //     .catch(() => {\n    //       setVisible(true);\n    //       success = false;\n    //     });\n    //     if(success == true){\n    //         sessionStorage.setItem(\"resultValue\", resp.output_url); //여기에 결과 이미지를 로드!\n    //         setLoading(false);\n    //     }\n    // })();\n  };\n\n  const onChange = (imageList, addUpdateIndex) => {\n    setImages(imageList);\n    sessionStorage.setItem(\"encodeUrl\", imageList[0][\"data_url\"]);\n  };\n\n  const predict = async () => {\n    // 모델 실행\n    setResult(getResult());\n  };\n\n  useEffect(() => {\n    if (loading === false) {\n      history.push(`/results`); // console.log(\"done\")\n    }\n  }, [loading]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(ImageUploading, {\n      multiple: false,\n      value: images,\n      onChange: onChange,\n      maxNumber: maxNumber,\n      dataURLKey: \"data_url\",\n      id: \"toonify\",\n      className: \"toonify\",\n      children: _ref => {\n        let {\n          imageList,\n          onImageUpload,\n          isDragging,\n          dragProps\n        } = _ref;\n        return (\n          /*#__PURE__*/\n          // write your building UI\n          _jsxDEV(\"div\", {\n            children: imageList.length === 0 ? /*#__PURE__*/_jsxDEV(UploadBox, {\n              onClick: onImageUpload,\n              ...dragProps,\n              children: [/*#__PURE__*/_jsxDEV(ImageBoxContainer, {\n                style: {\n                  marginBottom: \"13px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this), isDragging ? \"여기에 올려 주세요!\" : \"얼굴 정면사진 첨부\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(UploadBox, {\n                onLoad: predict,\n                children: [imageList.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: image[\"data_url\"],\n                    alt: \"face\",\n                    width: \"200px\",\n                    height: \"260px\",\n                    ref: imageRef\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 23\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this)), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: \"-70%\",\n                  paddingBottom: \"70%\",\n                  marginRight: \"10px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(SpinnerCircle, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 11\n          }, this)\n        );\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Rodal, {\n      width: 274,\n      height: 150,\n      visible: visible,\n      customStyles: {\n        backgroundColor: \"transparent\",\n        border: \"0px 0px 0px 0px\",\n        borderRadius: \"0px\",\n        marginTop: \"200px\",\n        boxShadow: \"0px 0px 0px 0px\"\n      },\n      onClose: () => {\n        setVisible(false);\n        history.go(0);\n      },\n      children: /*#__PURE__*/_jsxDEV(PopupContainer, {\n        children: [/*#__PURE__*/_jsxDEV(PopupText, {\n          children: \"\\uC5BC\\uAD74 \\uC778\\uC2DD\\uC5D0 \\uC2E4\\uD328\\uD588\\uC5B4\\uC694!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(PopupText, {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#F761A6\"\n            },\n            children: \"\\uB0B4 \\uC0AC\\uC9C4\\uB9CC \\uB098\\uC628 \\uC5BC\\uAD74 \\uC815\\uBA74\\uC0AC\\uC9C4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 19\n          }, this), \"\\uC744\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(PopupText, {\n          children: \"\\uB2E4\\uC2DC \\uCCA8\\uBD80\\uD574\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(BackButton, {\n          onClick: () => {\n            setVisible(false);\n            history.go(0);\n          },\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: images.length === 0 ? /*#__PURE__*/_jsxDEV(NoticeTextContainer, {\n        children: \"*\\uC0AC\\uC9C4\\uC740 \\uC5B4\\uB514\\uC5D0\\uB3C4 \\uC800\\uC7A5\\uB418\\uC9C0 \\uC54A\\uC73C\\uB2C8 \\uC548\\uC2EC\\uD558\\uC138\\uC694!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(NoticeTextContainer, {\n        style: {\n          fontSize: \"20px\"\n        },\n        children: \"\\uB2F9\\uC2E0\\uC758 \\uCE90\\uB9AD\\uD130\\uB97C \\uB9CC\\uB4DC\\uB294 \\uC911\\uC785\\uB2C8\\uB2E4...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MusicGenerator, \"iZvOzp45l8ckRCq7Rv6YiFnczQ8=\", true);\n\n_c8 = MusicGenerator;\nexport default MusicGenerator;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"ImageBoxContainer\");\n$RefreshReg$(_c2, \"NoticeTextContainer\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"UploadBox\");\n$RefreshReg$(_c5, \"PopupContainer\");\n$RefreshReg$(_c6, \"PopupText\");\n$RefreshReg$(_c7, \"BackButton\");\n$RefreshReg$(_c8, \"MusicGenerator\");","map":{"version":3,"sources":["/Users/ihyeonju/project/vcmusic_front/src/components/generator/musicGenerator.js"],"names":["React","useState","useEffect","useRef","styled","useNavigate","SpinnerCircle","ImageUploading","Rodal","ImageBoxContainer","ImageQuestion","NoticeTextContainer","div","Container","UploadBox","PopupContainer","PopupText","BackButton","button","MusicGenerator","images","setImages","isModelLoading","setIsModelLoading","model","setModel","loading","setLoading","result","setResult","visible","setVisible","history","useHistory","imageRef","maxNumber","getResult","onChange","imageList","addUpdateIndex","sessionStorage","setItem","predict","push","onImageUpload","isDragging","dragProps","length","marginBottom","map","image","index","marginTop","paddingBottom","marginRight","backgroundColor","border","borderRadius","boxShadow","go","display","justifyContent","color","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport { SpinnerCircle } from \"components\";\nimport ImageUploading from \"react-images-uploading\";\nimport Rodal from \"rodal\";\nimport \"rodal/lib/rodal.css\";\n// import toonify from 'toonify'\n\nimport { ReactComponent as ImageQuestion } from \"../../assets/imageQuestion.svg\";\n\nconst ImageBoxContainer = styled(ImageQuestion)`\n  @media screen and (max-width: 768px) {\n    width: 45px;\n    height: 45px;\n  }\n`;\n\nconst NoticeTextContainer = styled.div`\n  font-weight: normal;\n  font-size: 16px;\n  margin-top: 36px;\n  color: white;\n\n  @media screen and (max-width: 768px) {\n    font-size: 13px;\n    margin-top: 34px;\n  }\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst UploadBox = styled.div`\n  width: 282px;\n  height: 347px;\n  margin-top: 25px;\n  //   background-color: #E0E0E0;\n  background: linear-gradient(#ffffff, #a5dbfa);\n  color: #00629e;\n  border: 1.85478px solid #00629e;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  font-weight: normal;\n  font-size: 2px;\n  align-items: center;\n\n  &:hover {\n    opacity: 0.6;\n  }\n\n  @media screen and (max-width: 768px) {\n    width: 204px;\n    height: 251px;\n    font-size: 14px;\n  }\n`;\n\nconst PopupContainer = styled.div`\n  width: 274px;\n  height: 135px;\n  background-color: #4B4B4B;\n  color: white;\n  border-radius: 20px;\n  text-align: center;\n  padding: 25px;\n  margin-left: -20px;\n  margin-top: -8px;\n`\n\nconst PopupText = styled.div`\n  text-align: center;\n  font-size: 13px;\n  font-weight: 400;\n  margin-bottom: 3px;\n`\n\nconst BackButton = styled.button`\n    width: 80px;\n    height: 30px;\n    border-radius: 20px;\n    background-color: #F761A6;\n    color: white;\n    border: 0;\n    margin-top: 5px;\n`\n\nconst MusicGenerator = () => {\n  const [images, setImages] = useState([]);\n  const [isModelLoading, setIsModelLoading] = useState(false);\n  const [model, setModel] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [result, setResult] = useState();\n  const [visible, setVisible] = useState(false);\n\n  const history = useHistory();\n  const imageRef = useRef();\n  const maxNumber = 1;\n\n  const getResult = () => {\n    // const deepai = require(\"deepai\"); // OR include deepai.min.js as a script tag in your HTML\n\n    // deepai.setApiKey(\"b6fba1a0-0488-4c36-a7f6-ba7d5c5dbb09\");\n\n    // (async function geneterator() {\n    //     var success = true;\n    //   var resp = await deepai\n    //     .callStandardApi(\"toonify\", {\n    //       image: images[0][\"data_url\"],\n    //     })\n    //     .catch(() => {\n    //       setVisible(true);\n    //       success = false;\n    //     });\n\n    //     if(success == true){\n    //         sessionStorage.setItem(\"resultValue\", resp.output_url); //여기에 결과 이미지를 로드!\n    //         setLoading(false);\n    //     }\n      \n    // })();\n  };\n\n  const onChange = (imageList, addUpdateIndex) => {\n    setImages(imageList);\n    sessionStorage.setItem(\"encodeUrl\", imageList[0][\"data_url\"]);\n  };\n\n  const predict = async () => {\n    // 모델 실행\n    setResult(getResult());\n  };\n\n  useEffect(() => {\n    if (loading === false) {\n      history.push(`/results`);\n      // console.log(\"done\")\n    }\n  }, [loading]);\n\n  return (\n    <Container>\n      <ImageUploading\n        multiple={false}\n        value={images}\n        onChange={onChange}\n        maxNumber={maxNumber}\n        dataURLKey=\"data_url\"\n        id=\"toonify\"\n        className=\"toonify\"\n      >\n        {({ imageList, onImageUpload, isDragging, dragProps }) => (\n          // write your building UI\n          <div>\n            {imageList.length === 0 ? (\n              <UploadBox onClick={onImageUpload} {...dragProps}>\n                <ImageBoxContainer style={{ marginBottom: \"13px\" }} />\n                {isDragging ? \"여기에 올려 주세요!\" : \"얼굴 정면사진 첨부\"}\n              </UploadBox>\n            ) : (\n              <>\n                <UploadBox onLoad={predict}>\n                  {imageList.map((image, index) => (\n                    <div key={index}>\n                      <img\n                        src={image[\"data_url\"]}\n                        alt=\"face\"\n                        width=\"200px\"\n                        height=\"260px\"\n                        ref={imageRef}\n                      />\n                    </div>\n                  ))}{\" \"}\n                  <br />\n                </UploadBox>\n                <div\n                  style={{\n                    marginTop: \"-70%\",\n                    paddingBottom: \"70%\",\n                    marginRight: \"10px\",\n                  }}\n                >\n                  <SpinnerCircle />\n                </div>\n              </>\n            )}\n          </div>\n        )}\n      </ImageUploading>\n      <Rodal\n        width={274}\n        height={150}\n        visible={visible}\n        customStyles={{\n          backgroundColor: \"transparent\",\n          border: \"0px 0px 0px 0px\",\n          borderRadius: \"0px\",\n          marginTop: \"200px\",\n          boxShadow: \"0px 0px 0px 0px\",\n        }}\n        onClose={() => {setVisible(false);history.go(0);}}\n      >\n          <PopupContainer>\n              <PopupText>얼굴 인식에 실패했어요!</PopupText>\n              <PopupText style={{display:\"flex\", justifyContent:\"center\"}}>\n                  <div style={{color:\"#F761A6\"}}>내 사진만 나온 얼굴 정면사진</div>을</PopupText>\n              <PopupText>다시 첨부해주세요.</PopupText>\n            <BackButton onClick={() => {setVisible(false);history.go(0);}}>확인</BackButton>\n          </PopupContainer>\n      </Rodal>\n\n      <>\n        {images.length === 0 ? (\n          <NoticeTextContainer>\n            *사진은 어디에도 저장되지 않으니 안심하세요!\n          </NoticeTextContainer>\n        ) : (\n          <NoticeTextContainer style={{ fontSize: \"20px\" }}>\n            당신의 캐릭터를 만드는 중입니다...\n          </NoticeTextContainer>\n        )}\n      </>\n    </Container>\n  );\n};\n\nexport default MusicGenerator;\n"]},"metadata":{},"sourceType":"module"}